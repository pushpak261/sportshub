{"ast":null,"code":"// import React, {useState} from \"react\";\n// import '../../style/navbar.css';\n// import { NavLink, useNavigate } from \"react-router-dom\";\n// import ApiService from \"../../service/ApiService\";\n//\n//\n// const Navbar = () =>{\n//\n//     const [searchValue, setSearchValue] = useState(\"\");\n//     const navigate = useNavigate();\n//\n//     const isAdmin = ApiService.isAdmin();\n//     const isAuthenticated = ApiService.isAuthenticated();\n//\n//     const handleSearchChange =(e) => {\n//         setSearchValue(e.target.value);\n//     }\n//\n//     const handleSearchSubmit = async (e) =>{\n//         e.preventDefault();\n//         navigate(`/?search=${searchValue}`)\n//     }\n//\n//     const handleLogout = () => {\n//         const confirm = window.confirm(\"Are you sure you want to logout? \");\n//         if(confirm){\n//             ApiService.logout();\n//             setTimeout(()=>{\n//                 navigate('/login')\n//             }, 500);\n//         }\n//     }\n//\n//     return(\n//         <nav className=\"navbar\">\n//             <div className=\"navbar-brand\">\n//                 <NavLink to=\"/\" > <img src=\"./logo.png\" alt=\"Sports Club\" /></NavLink>\n//             </div>\n//             {/* SEARCH FORM */}\n//             <form className=\"navbar-search\" onSubmit={handleSearchSubmit}>\n//                 <input type=\"text\"\n//                        placeholder=\"Search products\"\n//                        value={searchValue}\n//                        onChange={handleSearchChange} />\n//                 <button type=\"submit\">Search</button>\n//             </form>\n//\n//             <div className=\"navbar-link\">\n//                 <NavLink to=\"/\" >Home</NavLink>\n//                 <NavLink to=\"/categories\" >Categories</NavLink>\n//                 {isAuthenticated && <NavLink to=\"/profile\" >My Account</NavLink>}\n//                 {isAdmin && <NavLink to=\"/admin\" >Admin</NavLink>}\n//                 {!isAuthenticated && <NavLink to=\"/login\" >Login</NavLink>}\n//                 {isAuthenticated &&<NavLink onClick={handleLogout} >Logout</NavLink>}\n//                 <NavLink to=\"/cart\">Cart</NavLink>\n//             </div>\n//         </nav>\n//     );\n//\n// };\n// export default Navbar;\n//\n//\n//Latest Clear Car when user logged out\nimport React,{useState}from\"react\";import'../../style/navbar.css';import{NavLink,useNavigate}from\"react-router-dom\";import ApiService from\"../../service/ApiService\";import{useCart}from\"../../component/context/CartContext\";// Import the useCart hook\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Navbar=()=>{const[searchValue,setSearchValue]=useState(\"\");const navigate=useNavigate();const{dispatch}=useCart();// Access dispatch from the cart context\nconst isAdmin=ApiService.isAdmin();const isAuthenticated=ApiService.isAuthenticated();const handleSearchChange=e=>{setSearchValue(e.target.value);};const handleSearchSubmit=async e=>{e.preventDefault();navigate(`/?search=${searchValue}`);};const handleLogout=()=>{const confirm=window.confirm(\"Are you sure you want to logout?\");if(confirm){ApiService.logout();// Clear the cart and reset user ID\ndispatch({type:'CLEAR_CART'});// Clear the cart on logout\nlocalStorage.removeItem('userId');// Remove user ID from local storage if saved\nsetTimeout(()=>{navigate('/login');},500);}};return/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"navbar-brand\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{src:\"./logo.png\",alt:\"Sports Club\"})})}),/*#__PURE__*/_jsxs(\"form\",{className:\"navbar-search\",onSubmit:handleSearchSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search products\",value:searchValue,onChange:handleSearchChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Search\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-link\",children:[/*#__PURE__*/_jsx(NavLink,{to:\"/\",children:\"Home\"}),/*#__PURE__*/_jsx(NavLink,{to:\"/categories\",children:\"Categories\"}),isAuthenticated&&/*#__PURE__*/_jsx(NavLink,{to:\"/profile\",children:\"My Account\"}),isAdmin&&/*#__PURE__*/_jsx(NavLink,{to:\"/admin\",children:\"Admin\"}),!isAuthenticated&&/*#__PURE__*/_jsx(NavLink,{to:\"/login\",children:\"Login\"}),isAuthenticated&&/*#__PURE__*/_jsx(NavLink,{onClick:handleLogout,children:\"Logout\"}),/*#__PURE__*/_jsx(NavLink,{to:\"/cart\",children:\"Cart\"})]})]});};export default Navbar;","map":{"version":3,"names":["React","useState","NavLink","useNavigate","ApiService","useCart","jsx","_jsx","jsxs","_jsxs","Navbar","searchValue","setSearchValue","navigate","dispatch","isAdmin","isAuthenticated","handleSearchChange","e","target","value","handleSearchSubmit","preventDefault","handleLogout","confirm","window","logout","type","localStorage","removeItem","setTimeout","className","children","to","src","alt","onSubmit","placeholder","onChange","onClick"],"sources":["D:/project modifications/sportshub/client/src/component/common/Navbar.jsx"],"sourcesContent":["// import React, {useState} from \"react\";\r\n// import '../../style/navbar.css';\r\n// import { NavLink, useNavigate } from \"react-router-dom\";\r\n// import ApiService from \"../../service/ApiService\";\r\n//\r\n//\r\n// const Navbar = () =>{\r\n//\r\n//     const [searchValue, setSearchValue] = useState(\"\");\r\n//     const navigate = useNavigate();\r\n//\r\n//     const isAdmin = ApiService.isAdmin();\r\n//     const isAuthenticated = ApiService.isAuthenticated();\r\n//\r\n//     const handleSearchChange =(e) => {\r\n//         setSearchValue(e.target.value);\r\n//     }\r\n//\r\n//     const handleSearchSubmit = async (e) =>{\r\n//         e.preventDefault();\r\n//         navigate(`/?search=${searchValue}`)\r\n//     }\r\n//\r\n//     const handleLogout = () => {\r\n//         const confirm = window.confirm(\"Are you sure you want to logout? \");\r\n//         if(confirm){\r\n//             ApiService.logout();\r\n//             setTimeout(()=>{\r\n//                 navigate('/login')\r\n//             }, 500);\r\n//         }\r\n//     }\r\n//\r\n//     return(\r\n//         <nav className=\"navbar\">\r\n//             <div className=\"navbar-brand\">\r\n//                 <NavLink to=\"/\" > <img src=\"./logo.png\" alt=\"Sports Club\" /></NavLink>\r\n//             </div>\r\n//             {/* SEARCH FORM */}\r\n//             <form className=\"navbar-search\" onSubmit={handleSearchSubmit}>\r\n//                 <input type=\"text\"\r\n//                        placeholder=\"Search products\"\r\n//                        value={searchValue}\r\n//                        onChange={handleSearchChange} />\r\n//                 <button type=\"submit\">Search</button>\r\n//             </form>\r\n//\r\n//             <div className=\"navbar-link\">\r\n//                 <NavLink to=\"/\" >Home</NavLink>\r\n//                 <NavLink to=\"/categories\" >Categories</NavLink>\r\n//                 {isAuthenticated && <NavLink to=\"/profile\" >My Account</NavLink>}\r\n//                 {isAdmin && <NavLink to=\"/admin\" >Admin</NavLink>}\r\n//                 {!isAuthenticated && <NavLink to=\"/login\" >Login</NavLink>}\r\n//                 {isAuthenticated &&<NavLink onClick={handleLogout} >Logout</NavLink>}\r\n//                 <NavLink to=\"/cart\">Cart</NavLink>\r\n//             </div>\r\n//         </nav>\r\n//     );\r\n//\r\n// };\r\n// export default Navbar;\r\n//\r\n//\r\n\r\n\r\n\r\n//Latest Clear Car when user logged out\r\n\r\nimport React, { useState } from \"react\";\r\nimport '../../style/navbar.css';\r\nimport { NavLink, useNavigate } from \"react-router-dom\";\r\nimport ApiService from \"../../service/ApiService\";\r\nimport { useCart } from \"../../component/context/CartContext\"; // Import the useCart hook\r\n\r\nconst Navbar = () => {\r\n    const [searchValue, setSearchValue] = useState(\"\");\r\n    const navigate = useNavigate();\r\n\r\n    const { dispatch } = useCart(); // Access dispatch from the cart context\r\n    const isAdmin = ApiService.isAdmin();\r\n    const isAuthenticated = ApiService.isAuthenticated();\r\n\r\n    const handleSearchChange = (e) => {\r\n        setSearchValue(e.target.value);\r\n    };\r\n\r\n    const handleSearchSubmit = async (e) => {\r\n        e.preventDefault();\r\n        navigate(`/?search=${searchValue}`);\r\n    };\r\n\r\n    const handleLogout = () => {\r\n        const confirm = window.confirm(\"Are you sure you want to logout?\");\r\n        if (confirm) {\r\n            ApiService.logout();\r\n\r\n            // Clear the cart and reset user ID\r\n            dispatch({ type: 'CLEAR_CART' }); // Clear the cart on logout\r\n            localStorage.removeItem('userId'); // Remove user ID from local storage if saved\r\n\r\n            setTimeout(() => {\r\n                navigate('/login');\r\n            }, 500);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <nav className=\"navbar\">\r\n            <div className=\"navbar-brand\">\r\n                <NavLink to=\"/\" >\r\n                    <img src=\"./logo.png\" alt=\"Sports Club\" />\r\n                </NavLink>\r\n            </div>\r\n            {/* SEARCH FORM */}\r\n            <form className=\"navbar-search\" onSubmit={handleSearchSubmit}>\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Search products\"\r\n                    value={searchValue}\r\n                    onChange={handleSearchChange}\r\n                />\r\n                <button type=\"submit\">Search</button>\r\n            </form>\r\n\r\n            <div className=\"navbar-link\">\r\n                <NavLink to=\"/\" >Home</NavLink>\r\n                <NavLink to=\"/categories\" >Categories</NavLink>\r\n                {isAuthenticated && <NavLink to=\"/profile\" >My Account</NavLink>}\r\n                {isAdmin && <NavLink to=\"/admin\" >Admin</NavLink>}\r\n                {!isAuthenticated && <NavLink to=\"/login\" >Login</NavLink>}\r\n                {isAuthenticated && <NavLink onClick={handleLogout} >Logout</NavLink>}\r\n                <NavLink to=\"/cart\">Cart</NavLink>\r\n            </div>\r\n        </nav>\r\n    );\r\n};\r\n\r\nexport default Navbar;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}